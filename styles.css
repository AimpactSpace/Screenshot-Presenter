:root{
  color-scheme: dark;
  --bg: #0c0f14;
  --elev-1: #0f141b;
  --elev-2: #0b0f15;
  --fg: #e8e8ef;
  --muted: #9aa0a6;
  --accent: #7a6cff;
  --shadow-dark: rgba(0,0,0,0.55);
  --shadow-light: rgba(255,255,255,0.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 30% 20%, #0f1522, var(--bg));
  color: var(--fg);
}
.container{max-width:1200px;margin:0 auto;padding:32px}
.header{margin-bottom:16px}
.header h1{font-size:28px;margin:0 0 6px;letter-spacing:.2px}
.header p{margin:0;color:var(--muted)}

.uploader{border:1.5px dashed #4b4b64;border-radius:20px;padding:28px;margin:18px 0;text-align:center;cursor:pointer;backdrop-filter: saturate(1.2) blur(2px);
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  box-shadow: 10px 10px 20px var(--shadow-dark), -8px -8px 18px var(--shadow-light);
  transition: transform .18s ease, background .25s ease, border-color .25s ease, box-shadow .25s ease}
.uploader:hover{transform: translateY(-1px);background:rgba(255,255,255,.05);border-color:#6a6a8d}
.uploader input{display:block;margin:0 auto 8px}

.controls{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;align-items:start;margin-top:8px}
.control-group{background:linear-gradient(180deg, rgba(255,255,255,.045), rgba(255,255,255,.018));border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:14px 14px 16px;
  box-shadow: 12px 12px 24px var(--shadow-dark), -10px -10px 20px var(--shadow-light)}
.control-group h3{margin:0 0 8px;font-size:13px;letter-spacing:.5px;color:#cfd3ff;text-transform:uppercase}
.controls label{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.03);padding:8px 12px;border-radius:12px;
  box-shadow: inset 6px 6px 12px rgba(0,0,0,.35), inset -6px -6px 12px rgba(255,255,255,.05)}
.controls .row{display:flex;gap:10px}
.segmented{display:flex;gap:8px;margin-bottom:8px}
.seg{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.02);
  box-shadow: inset 4px 4px 8px rgba(0,0,0,.35), inset -4px -4px 8px rgba(255,255,255,.05)}

.controls button, .controls select{appearance:none;border:1px solid #3a3a55;background:#151826;color:#fff;padding:10px 12px;border-radius:12px;cursor:pointer}
.controls button{box-shadow: 10px 10px 20px var(--shadow-dark), -8px -8px 16px var(--shadow-light), inset 0 1px 0 rgba(255,255,255,.06);transition: transform .15s ease}
.controls button:hover{background:#23233a}
.controls button[disabled]{opacity:.55;cursor:not-allowed}
.controls input[type="range"]{width:180px}

/* Neumorphic sliders */
input[type=range]{-webkit-appearance:none;height:12px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));border-radius:999px;border:1px solid rgba(255,255,255,.08);
  box-shadow: inset 6px 6px 12px rgba(0,0,0,.45), inset -6px -6px 12px rgba(255,255,255,.06)}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:linear-gradient(180deg,#2d3150,#1a1d2f);border:1px solid #3a3a55;
  box-shadow: 6px 6px 12px rgba(0,0,0,.5), -4px -4px 10px rgba(255,255,255,.06)}
input[type=range]::-moz-range-thumb{width:22px;height:22px;border-radius:50%;border:1px solid #3a3a55;background:#1a1d2f}

.stage{margin-top:18px;overflow:auto;border-radius:22px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.08));padding:16px;box-shadow: 16px 16px 36px rgba(0,0,0,.55), -10px -10px 24px rgba(255,255,255,.05)}
canvas{display:block;max-width:100%;height:auto;border-radius:16px;box-shadow: 12px 12px 30px rgba(0,0,0,.45)}

.templates{margin-top:24px}
.templates-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.templates-header h2{margin:0;font-size:18px;letter-spacing:.3px}
.template-actions{display:flex;gap:10px}
.template-actions input{min-width:220px;appearance:none;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));color:var(--fg);padding:10px 12px;
  box-shadow: inset 6px 6px 12px rgba(0,0,0,.4), inset -6px -6px 12px rgba(255,255,255,.05)}
.templates-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
.template-card{padding:10px;border-radius:16px;border:1px solid rgba(255,255,255,.06);background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow: 12px 12px 24px rgba(0,0,0,.5), -10px -10px 20px rgba(255,255,255,.05);display:flex;flex-direction:column;gap:8px;transform-origin: 50% 60%;
  transition: transform .18s ease}
.template-card:hover{transform: translateY(-2px)}
.template-thumb{width:100%;aspect-ratio: 4/3;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,.08);box-shadow: 8px 8px 16px rgba(0,0,0,.45)}
.template-meta{display:flex;justify-content:space-between;align-items:center}
.template-name{font-size:13px;color:#e6e8ff}
.template-actions-row{display:flex;gap:8px}
.btn-secondary{border:1px solid #3a3a55;background:#151826;color:#fff;padding:8px 10px;border-radius:10px}
.btn-danger{border:1px solid #6a3a3a;background:#2a1515;color:#ffdada;padding:8px 10px;border-radius:10px}

.footer{margin-top:16px;color:var(--muted)}

/* Motion utilities */
@keyframes fadePop{from{opacity:0;transform:translateY(8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}
.enter-pop{animation: fadePop .28s cubic-bezier(.2,.8,.2,1)}
